{"version":3,"sources":["./src/app/products/pages/products/products.page.html","./src/app/products/pages/products/products.page.scss","./src/app/products/pages/products/products.page.ts","./src/app/products/pages/products/products-routing.module.ts","./src/app/products/pages/products/products.module.ts"],"names":[],"mappings":"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","file":"products-pages-products-products-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"onToggleMenu()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"menu-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Productos</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"8\\\">\\n          <ion-grid>\\n            <ion-row> <!-- Encabezados -->\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\"><h6>Nombre</h6></ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\"><h6>Precio</h6></ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\"><h6>Cantidad</h6></ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\"><h6>Categoría</h6></ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\"><h6>Proveedor</h6></ion-col>\\n            </ion-row> <!-- Fin de los encabezados-->\\n            <ion-row *ngFor=\\\"let product of allProducts\\\" class=\\\"row-product\\\"> <!-- Fila a repetir -->\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">{{ product.name }}</ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">{{ product.unitPrice }}</ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">{{ product.stock }}</ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">{{ product.category }}</ion-col>\\n              <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">{{ product.provider }}</ion-col>\\n              <ion-col size=\\\"2\\\">\\n                <ion-button (click)=\\\"fillFormToUpdate( product )\\\">\\n                  <ion-icon slot=\\\"icon-only\\\" name=\\\"sync-outline\\\"></ion-icon>\\n                </ion-button>\\n                <ion-button color=\\\"danger\\\" (click)=\\\"onDelete( product.id)\\\">\\n                  <ion-icon slot=\\\"icon-only\\\" name=\\\"trash-outline\\\"></ion-icon>\\n                </ion-button>\\n              </ion-col>\\n            </ion-row> <!-- Fin de la fila a repetir-->\\n          </ion-grid>\\n        </ion-col> <!-- Fin de la columna de 8-->\\n        <ion-col size=\\\"4\\\"> <!-- Columna del formulario-->\\n          <form (ngSubmit)=\\\"onAddProduct()\\\" [formGroup]=\\\"form\\\" >\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Nombre</ion-label>\\n              <ion-input type=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Código</ion-label>\\n              <ion-input type=\\\"text\\\" formControlName=\\\"barCode\\\"></ion-input>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Precio</ion-label>\\n              <ion-input type=\\\"number\\\" formControlName=\\\"unitPrice\\\"></ion-input>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Cantidad</ion-label>\\n              <ion-input type=\\\"number\\\" formControlName=\\\"stock\\\"></ion-input>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label>Categoría</ion-label>\\n              <ion-select placeholder=\\\"Seleccione uno\\\" interface=\\\"popover\\\" formControlName=\\\"category\\\">\\n                  <ion-select-option [value]=\\\"item.name\\\" *ngFor=\\\"let item of categorias\\\">{{ item.name }}</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label>Proveedor</ion-label>\\n              <ion-select placeholder=\\\"Seleccione uno\\\" interface=\\\"popover\\\" formControlName=\\\"provider\\\">\\n                  <ion-select-option [value]=\\\"item.name\\\" *ngFor=\\\"let item of categorias\\\">{{ item.name }}</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n\\n            <div class=\\\"buttons\\\">\\n              <ion-button class=\\\"ion-margin-top\\\" fill=\\\"outline\\\" type=\\\"button\\\" color=\\\"danger\\\" (click)=\\\"onCancel()\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"add\\\"></ion-icon>\\n                Cancelar\\n              </ion-button>\\n\\n              <ion-button class=\\\"ion-margin-top\\\" fill=\\\"outline\\\" *ngIf=\\\" isUpdating \\\" (click)=\\\"onUpdate()\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"add\\\"></ion-icon>\\n                Actualizar\\n              </ion-button>\\n\\n              <ion-button class=\\\"ion-margin-top\\\" fill=\\\"outline\\\" type=\\\"submit\\\" *ngIf=\\\" !isUpdating \\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"add\\\"></ion-icon>\\n                Guardar\\n              </ion-button>\\n  \\n            </div>\\n          </form>\\n        </ion-col> <!-- Fin de la columna del formulario-->\\n      </ion-row> <!-- Fin de la fila principal -->\\n    </ion-grid>\\n    \\n</ion-content>\";","export default \"ion-row {\\n  border-bottom: 1px solid black;\\n}\\n\\nform {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\nform div.buttons {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.row-product:nth-child(odd) {\\n  background-color: #c7c7c7;\\n}\\n\\n.row-product:hover {\\n  background-color: #949494;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2R1Y3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDhCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FBQ0o7O0FBRUk7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7QUFBUjs7QUFJQTtFQUNJLHlCQUFBO0FBREo7O0FBSUE7RUFDSSx5QkFBQTtBQURKIiwiZmlsZSI6InByb2R1Y3RzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1yb3cge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjaztcbn1cblxuZm9ybSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIC8vIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcblxuICAgIGRpdi5idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIH1cbn1cblxuLnJvdy1wcm9kdWN0Om50aC1jaGlsZChvZGQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTk5LCAxOTksIDE5OSk7XG59XG5cbi5yb3ctcHJvZHVjdDpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE0OCwgMTQ4LCAxNDgpO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ProductsService } from '../../services/products.service';\nimport { Observable } from 'rxjs';\nimport { Products } from '../../interface/products-interface';\nimport { MenuController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.page.html',\n  styleUrls: ['./products.page.scss'],\n})\nexport class ProductsPage implements OnInit {\n\n  products: Observable<Products[]>;\n  allProducts: Products[] = [];\n\n  isUpdating: boolean = false;\n\n  productId = '';\n\n  categorias = [\n    {\n      name: 'Pastillas'\n    },\n    {\n      name: 'Hierbas'\n    },\n    {\n      name: 'Esotericos'\n    }\n  ]\n\n  constructor(private formBuilder: FormBuilder,\n              private productsService: ProductsService,\n              private menu: MenuController ) {\n                this.products = this.productsService.getAllProducts();\n                this.products\n                .subscribe( products => {\n                  // Asignación de todos los productos y ordenados por la fecha de creación.\n                  this.allProducts = products.sort( ( a, b ) => {\n                    if( a.createdAt > b.createdAt ) {\n                      return 1;\n                    } if ( a.createdAt < b.createdAt ) {\n                      return -1;\n                    } else {\n                      return 0;\n                    }\n                  });\n                });\n\n              }\n              \n  form: FormGroup = this.formBuilder.group({\n    name: [ '', [ Validators.required ] ],\n    barCode: [ '', [ Validators.required ] ],\n    unitPrice: [ 0, [ Validators.required, Validators.min( 1 ), Validators.max( 1000 ) ] ],\n    stock: [ 0, [ Validators.required, Validators.min( 1 ), Validators.max( 500 ) ] ],\n    category: [ '', [ Validators.required ] ],\n    provider: [ '', [ Validators.required ] ]\n    \n  });\n  \n  ngOnInit(): void {\n    // Evita que el menú se abra arrastrando\n    this.menu.swipeGesture( false, 'first');\n  }\n\n  // Abrir menú\n  onToggleMenu() {\n    this.menu.enable( true, 'first');\n    this.menu.open('first');\n  }\n\n  // Guardar Producto\n  onAddProduct(): void {\n\n    const product = this.form.value;\n    product.createdAt = new Date();\n\n    if ( this.form.invalid ) {\n      this.form.markAllAsTouched();\n      console.log( this.form );\n      console.log( product );\n      return;\n    }\n\n\n    this.productsService.addProduct( product );\n    this.form.reset();\n  }\n\n  // Eliminar Producto\n  onDelete( id: string ): void {\n    this.productsService.deleteProduct( id );\n  }\n\n  // Llenar el formulario cuando se da click en el botón de actualizar\n  fillFormToUpdate( product: Products ): void {\n    // Obtener todos los capmos de la tabla\n    const { unitPrice, stock, provider, barCode, category, id, name } = product;\n    this.productId = id;\n\n    // Asignar todos los campos al formulario\n    this.form.get('name').setValue( name );\n    this.form.get('barCode').setValue( barCode );\n    this.form.get('unitPrice').setValue( unitPrice );\n    this.form.get('stock').setValue( stock );\n    this.form.get('category').setValue( category );\n    this.form.get('provider').setValue( provider );\n\n    // Mostrar el botón de actualizar\n    this.isUpdating = true;\n  }\n\n  // Reiniciar el formulario\n  onCancel(): void {\n    this.form.reset();\n    this.isUpdating = false;\n  }\n\n  onUpdate() {\n\n    // Obtener todos los valores del formulario y agregar la propiedad del id\n    const product = this.form.value;\n    product.id = this.productId;\n\n    // Llamado del servicio para actualizar el producto.\n    this.productsService.updateProduct( product );\n    this.isUpdating = false;\n    this.form.reset();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductsPage } from './products.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsPageRoutingModule } from './products-routing.module';\n\nimport { ProductsPage } from './products.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ProductsPageRoutingModule\n  ],\n  declarations: [ProductsPage]\n})\nexport class ProductsPageModule {}\n"],"sourceRoot":"webpack:///"}